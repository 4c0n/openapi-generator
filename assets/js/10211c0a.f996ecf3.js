"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9653],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return h}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=p(n),c=r,h=d["".concat(l,".").concat(c)]||d[c]||u[c]||o;return n?a.createElement(h,i(i({ref:t},m),{},{components:n})):a.createElement(h,i({ref:t},m))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},7800:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return l},default:function(){return c},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return d}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),i=["components"],s={id:"new-generator",title:"Create a New Generator"},l=void 0,p={unversionedId:"new-generator",id:"new-generator",title:"Create a New Generator",description:"Creating a new generator which will become a part of the officially supported generators in OpenAPI Generator is pretty simple. We've created a helper script to bootstrap the operation. Let's look at the files necessary to create a new generator, then an example of bootstrapping a generator using the new.sh script in the root of the repository.",source:"@site/../docs/new-generator.md",sourceDirName:".",slug:"/new-generator",permalink:"/docs/new-generator",draft:!1,editUrl:"https://github.com/OpenAPITools/openapi-generator/edit/master/website/../docs/new-generator.md",tags:[],version:"current",lastUpdatedBy:"Tiffany Marrel",lastUpdatedAt:1685589431,formattedLastUpdatedAt:"Jun 1, 2023",frontMatter:{id:"new-generator",title:"Create a New Generator"},sidebar:"docs",previous:{title:"Building the code",permalink:"/docs/contribute-building"},next:{title:"Roadmap",permalink:"/docs/roadmap"}},m={},d=[{value:"Required Files",id:"required-files",level:2},{value:"new.sh",id:"newsh",level:2},{value:"Review Generated Config",id:"review-generated-config",level:3},{value:"Create templates",id:"create-templates",level:3},{value:"README.mustache",id:"readmemustache",level:4},{value:"api.mustache",id:"apimustache",level:4},{value:"model.mustache",id:"modelmustache",level:4},{value:"Build it",id:"build-it",level:3},{value:"Compile Sample",id:"compile-sample",level:3},{value:"Verify output",id:"verify-output",level:3}],u={toc:d};function c(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Creating a new generator which will become a part of the officially supported generators in OpenAPI Generator is pretty simple. We've created a helper script to bootstrap the operation. Let's look at the files necessary to create a new generator, then an example of bootstrapping a generator using the ",(0,o.kt)("inlineCode",{parentName:"p"},"new.sh")," script in the root of the repository."),(0,o.kt)("h2",{id:"required-files"},"Required Files"),(0,o.kt)("p",null,"The minimum set of files required to create a new generator are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},'A "Codegen" file',(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"exists under ",(0,o.kt)("inlineCode",{parentName:"li"},"modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/")),(0,o.kt)("li",{parentName:"ul"},"defines language options"),(0,o.kt)("li",{parentName:"ul"},"defines framework options"),(0,o.kt)("li",{parentName:"ul"},"determines OpenAPI feature set"),(0,o.kt)("li",{parentName:"ul"},"extends the generation workflow"))),(0,o.kt)("li",{parentName:"ul"},"SPI registration",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Above class must be referenced in ",(0,o.kt)("inlineCode",{parentName:"li"},"modules/openapi-generator/src/main/resources/META-INF/services/org.openapitools.codegen.CodegenConfig")),(0,o.kt)("li",{parentName:"ul"},"Tells the generator that this class exists"),(0,o.kt)("li",{parentName:"ul"},"Allows for classpath extension (addition) of generators"))),(0,o.kt)("li",{parentName:"ul"},"A minimal template",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Should include a README explaining usage"),(0,o.kt)("li",{parentName:"ul"},"Must include an ",(0,o.kt)("inlineCode",{parentName:"li"},"api.mustache")),(0,o.kt)("li",{parentName:"ul"},"Exists under ",(0,o.kt)("inlineCode",{parentName:"li"},"modules/openapi-generator/src/main/resources/")," (plus ",(0,o.kt)("inlineCode",{parentName:"li"},"embeddedTemplate")," dir value, see below)"))),(0,o.kt)("li",{parentName:"ul"},"Config file under ",(0,o.kt)("inlineCode",{parentName:"li"},"./bin/configs"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},'Gives users a "real life" example of generated output'),(0,o.kt)("li",{parentName:"ul"},"Samples are used by CI to verify generators and test for regressions in some cases")))),(0,o.kt)("p",null,"Now, let's generate an example generator and then walk through the pieces. At the end, we'll touch on some known sticking points for new generator authors and provide some suggestions."),(0,o.kt)("h2",{id:"newsh"},"new.sh"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"new.sh")," script in the root of the project is meant to simplify this process. Run ",(0,o.kt)("inlineCode",{parentName:"p"},"./new.sh --help"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-text"},"Stubs out files for new generators\n\nUsage:\n./new.sh [options]\n    Options:\n    -n  Required. Specify generator name, should be kebab-cased.\n    -c  Create a client generator\n    -s  Create a server generator\n    -d  Create a documentation generator\n    -H  Create a schema generator\n    -f  Create a config generator\n    -t  When specified, creates test file(s) for the generator.\n    -h  Display help.\n\nExamples:\n  Create a server generator for ktor:\n  ./new.sh -n kotlin -s\n\n    Creates:\n    modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/KotlinServerCodegen.java\n    modules/openapi-generator/src/main/resources/kotlin-server/README.mustache\n    modules/openapi-generator/src/main/resources/kotlin-server/model.mustache\n    modules/openapi-generator/src/main/resources/kotlin-server/api.mustache\n    bin/configs/kotlin-server-petstore-new.yaml\n\n  Create a generic C# server generator:\n  ./new.sh -n csharp -s -t\n    Creates:\n    modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/CsharpServerCodegen.java\n    modules/openapi-generator/src/main/resources/csharp-server/README.mustache\n    modules/openapi-generator/src/main/resources/csharp-server/model.mustache\n    modules/openapi-generator/src/main/resources/csharp-server/api.mustache\n    bin/configs/csharp-server-petstore-new.yaml\n    modules/openapi-generator/src/test/java/org/openapitools/codegen/csharp/CsharpServerCodegenTest.java\n    modules/openapi-generator/src/test/java/org/openapitools/codegen/csharp/CsharpServerCodegenModelTest.java\n    modules/openapi-generator/src/test/java/org/openapitools/codegen/csharp/CsharpServerCodegenOptionsTest.java\n    modules/openapi-generator/src/test/java/org/openapitools/codegen/options/CsharpServerCodegenOptionsProvider.java\n")),(0,o.kt)("p",null,'This script allows us to define a client, server, schema, or documentation generator. We\'ll focus on the simplest generator (documentation). The other generator types may require heavy extension of the "Config" base class, and these docs could very quickly become outdated. When creating a new generator, please review existing generators as a guideline for implementation.'),(0,o.kt)("p",null,"Create a new Markdown generator, specifying CommonMark as the name to avoid conflicting with the built-in Markdown generator."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"./new.sh -n common-mark -d\n")),(0,o.kt)("p",null,"You should see output similar to the following:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"Creating modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/CommonMarkDocumentationCodegen.java\nCreating modules/openapi-generator/src/main/resources/common-mark-documentation/README.mustache\nCreating modules/openapi-generator/src/main/resources/common-mark-documentation/model.mustache\nCreating modules/openapi-generator/src/main/resources/common-mark-documentation/api.mustache\nCreating bin/configs/common-mark-documentation-petstore-new.yaml\nFinished.\n")),(0,o.kt)("h3",{id:"review-generated-config"},"Review Generated Config"),(0,o.kt)("p",null,'Beginning with the "Codegen" file (',(0,o.kt)("inlineCode",{parentName:"p"},"CommonMarkDocumentationCodegen.java"),"), the constructor was created:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'    public CommonMarkDocumentationCodegen() {\n        super();\n\n        outputFolder = "generated-code" + File.separator + "common-mark";\n        modelTemplateFiles.put("model.mustache", ".zz");\n        apiTemplateFiles.put("api.mustache", ".zz");\n        embeddedTemplateDir = templateDir = "common-mark-documentation";\n        apiPackage = File.separator + "Apis";\n        modelPackage = File.separator + "Models";\n        supportingFiles.add(new SupportingFile("README.mustache", "", "README.md"));\n        // TODO: Fill this out.\n    }\n')),(0,o.kt)("p",null,"These options are some defaults which may require updating. Let's look line-by-line at the config."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'outputFolder = "generated-code" + File.separator + "common-mark";\n')),(0,o.kt)("p",null,"This is the default output location. This will be ",(0,o.kt)("inlineCode",{parentName:"p"},"generated-code/common-mark")," on non-Windows machines and ",(0,o.kt)("inlineCode",{parentName:"p"},"generated-code\\common-mark")," on Windows. You may change this to any value you'd like, but a user will almost always provide an output directory."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"When joining paths, always use ",(0,o.kt)("inlineCode",{parentName:"p"},"File.separator"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},' modelTemplateFiles.put("model.mustache", ".zz");\n')),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"model.mustache")," file is registered as the template for model generation. The ",(0,o.kt)("inlineCode",{parentName:"p"},"new.sh")," script doesn't have a way to know your intended file extension, so we default to a ",(0,o.kt)("inlineCode",{parentName:"p"},".zz")," extension. This ",(0,o.kt)("em",{parentName:"p"},"must")," be changed (unless your generator's target extension is ",(0,o.kt)("inlineCode",{parentName:"p"},".zz"),"). For this example, you'd change ",(0,o.kt)("inlineCode",{parentName:"p"},".zz")," to ",(0,o.kt)("inlineCode",{parentName:"p"},".md")," or ",(0,o.kt)("inlineCode",{parentName:"p"},".markdown"),", depending on your preference."),(0,o.kt)("p",null,"This model template registration will use ",(0,o.kt)("inlineCode",{parentName:"p"},"model.mustache")," to generate a new file for every model defined in your API's specification document."),(0,o.kt)("p",null,"The path is considered relative to ",(0,o.kt)("inlineCode",{parentName:"p"},"embeddedTemplateDir"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"templateDir"),", or a library subdirectory (refer to the Java client generator implementation for a prime example)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'apiTemplateFiles.put("api.mustache", ".zz");\n')),(0,o.kt)("p",null,"This is the template used for generating API related files. Similar to the above model template, you'll want to change ",(0,o.kt)("inlineCode",{parentName:"p"},".zz")," to ",(0,o.kt)("inlineCode",{parentName:"p"},".md")," or ",(0,o.kt)("inlineCode",{parentName:"p"},".markdown"),"."),(0,o.kt)("p",null,"The path is considered relative to ",(0,o.kt)("inlineCode",{parentName:"p"},"embeddedTemplateDir"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"templateDir"),", or a library subdirectory (refer to the Java client generator implementation for a prime example)."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'embeddedTemplateDir = templateDir = "common-mark-documentation";\n')),(0,o.kt)("p",null,"This line sets the embedded and template directories to ",(0,o.kt)("inlineCode",{parentName:"p"},"common-mark-documentation"),". The ",(0,o.kt)("inlineCode",{parentName:"p"},"embeddedTemplateDir")," refers to the directory which will exist under ",(0,o.kt)("inlineCode",{parentName:"p"},"modules/openapi-generator/src/main/resources")," and will be published with every release in which your new generator is present."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"templateDir"),' variable refers to the "current" template directory setting, as defined by the user. That is, the user may invoke with ',(0,o.kt)("inlineCode",{parentName:"p"},"-t")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"--template-directory")," (or plugin option variants), and override this directory."),(0,o.kt)("p",null,"Both of these variables exist because the generator will fallback to files under ",(0,o.kt)("inlineCode",{parentName:"p"},"embeddedTemplateDir")," if they are not defined in the user's custom template directory."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'apiPackage = "Apis";\n')),(0,o.kt)("p",null,"This sets the \"package\" location for anything considered an API document. You might want to change this setting if, for instance, your language doesn't support uppercase letters in the path. We don't need to worry about that here."),(0,o.kt)("p",null,"Every templated output from ",(0,o.kt)("inlineCode",{parentName:"p"},"api.mustache")," (registered via ",(0,o.kt)("inlineCode",{parentName:"p"},"apiTemplateFiles")," above) will end up in the directory defined by ",(0,o.kt)("inlineCode",{parentName:"p"},"apiPackage")," here."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'modelPackage = "Models";\n')),(0,o.kt)("p",null,"Similarly, this sets the package for ",(0,o.kt)("inlineCode",{parentName:"p"},"Models"),"."),(0,o.kt)("p",null,"Every templated output from ",(0,o.kt)("inlineCode",{parentName:"p"},"model.mustache")," (registered via ",(0,o.kt)("inlineCode",{parentName:"p"},"modelTemplateFiles")," above) will end up in the directory defined by ",(0,o.kt)("inlineCode",{parentName:"p"},"modelPackage")," here."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'supportingFiles.add(new SupportingFile("README.mustache", "", "README.md"));\n')),(0,o.kt)("p",null,'A "supporting file" is an extra file which isn\'t created once for every operation or model defined in your specification document. It is a single file which may or may not be templated (determined by the extension of the filename).'),(0,o.kt)("p",null,"A supporting file only passes through the Mustache template processor if the filename ends in ",(0,o.kt)("inlineCode",{parentName:"p"},".mustache"),"."),(0,o.kt)("p",null,"The path is considered relative to ",(0,o.kt)("inlineCode",{parentName:"p"},"embeddedTemplateDir"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"templateDir"),", or a library subdirectory (refer to the Java client generator implementation for a prime example)."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"If you want your readme to be generic (not templated), just rename the file to README.md and change ",(0,o.kt)("inlineCode",{parentName:"p"},"README.mustache")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"README.md")," above.")),(0,o.kt)("h3",{id:"create-templates"},"Create templates"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"new.sh")," created our three required files. Let's start filling out each of these files."),(0,o.kt)("h4",{id:"readmemustache"},"README.mustache"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-mustache"},'# Documentation for {{appName}}\n\n{{#generateApiDocs}}\n<a id="documentation-for-api-endpoints"></a>\n## Documentation for API Endpoints\n\nAll URIs are relative to *{{{basePath}}}*\n\nClass | Method | HTTP request | Description\n------------ | ------------- | ------------- | -------------\n{{#apiInfo}}{{#apis}}{{#operations}}{{#operation}}*{{classname}}* | [**{{operationId}}**](Apis/{{apiDocPath}}{{classname}}.md#{{operationIdLowerCase}}) | **{{httpMethod}}** {{path}} | {{#summary}}{{{summary}}}{{/summary}}\n{{/operation}}{{/operations}}{{/apis}}{{/apiInfo}}\n{{/generateApiDocs}}\n\n{{#generateModelDocs}}\n<a id="documentation-for-models"></a>\n## Documentation for Models\n\n{{#modelPackage}}\n{{#models}}{{#model}} - [{{{modelPackage}}}.{{{classname}}}](Models/{{modelDocPath}}{{{classname}}}.md)\n{{/model}}{{/models}}\n{{/modelPackage}}\n{{^modelPackage}}\nNo model defined in this package\n{{/modelPackage}}\n{{/generateModelDocs}}\n\n<a id="documentation-for-authorization"></a>{{! TODO: optional documentation for authorization? }}\n## Documentation for Authorization\n\n{{^authMethods}}Endpoints do not require authorization.{{/authMethods}}\n{{#hasAuthMethods}}Authentication schemes defined for the API:{{/hasAuthMethods}}\n{{#authMethods}}\n<a id="{{name}}"></a>\n### {{name}}\n\n{{#isApiKey}}- **Type**: API key\n- **API key parameter name**: {{keyParamName}}\n- **Location**: {{#isKeyInQuery}}URL query string{{/isKeyInQuery}}{{#isKeyInHeader}}HTTP header{{/isKeyInHeader}}\n{{/isApiKey}}\n{{#isBasicBasic}}- **Type**: HTTP basic authentication\n{{/isBasicBasic}}\n{{#isBasicBearer}}- **Type**: HTTP Bearer Token authentication{{#bearerFormat}} ({{{.}}}){{/bearerFormat}}\n{{/isBasicBearer}}\n{{#isHttpSignature}}- **Type**: HTTP signature authentication\n{{/isHttpSignature}}\n{{#isOAuth}}- **Type**: OAuth\n- **Flow**: {{flow}}\n- **Authorization URL**: {{authorizationUrl}}\n- **Scopes**: {{^scopes}}N/A{{/scopes}}\n{{#scopes}}  - {{scope}}: {{description}}\n{{/scopes}}\n{{/isOAuth}}\n{{#isOpenId}}- **Type**: OpenIDConnect\n- **Connect URL**: {{{openIdConnectUrl}}}\n- **Bearer Format**: {{{bearerFormat}}}\n{{/isOpenId}}\n\n{{/authMethods}}\n')),(0,o.kt)("p",null,"Let's not focus too much on the contents of this file.  You may refer to ",(0,o.kt)("a",{parentName:"p",href:"/docs/templating"},"templating")," for more details on the variables bound to these files and to ",(0,o.kt)("a",{parentName:"p",href:"/docs/debugging"},"debugging"),' how to debug the structures. Of note here is that we\'re generating structures in markdown as defined by the objects constructed by our new "Config" class.'),(0,o.kt)("h4",{id:"apimustache"},"api.mustache"),(0,o.kt)("p",null,"The API documentation might look like this:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-mustache"},'# {{classname}}{{#description}}\n{{description}}{{/description}}\n\nAll URIs are relative to *{{basePath}}*\n\nMethod | HTTP request | Description\n------------- | ------------- | -------------\n{{#operations}}{{#operation}}[**{{operationId}}**]({{classname}}.md#{{operationId}}) | **{{httpMethod}}** {{path}} | {{#summary}}{{summary}}{{/summary}}\n{{/operation}}{{/operations}}\n\n{{#operations}}\n{{#operation}}\n<a id="{{operationId}}"></a>\n# **{{operationId}}**\n> {{#returnType}}{{returnType}} {{/returnType}}{{operationId}}({{#allParams}}{{{paramName}}}{{^-last}}, {{/-last}}{{/allParams}})\n\n{{summary}}{{#notes}}\n\n{{notes}}{{/notes}}\n\n### Parameters\n{{^allParams}}This endpoint does not need any parameter.{{/allParams}}{{#allParams}}{{#-last}}\nName | Type | Description  | Notes\n------------- | ------------- | ------------- | -------------{{/-last}}{{/allParams}}\n{{#allParams}} **{{paramName}}** | {{#isPrimitiveType}}**{{dataType}}**{{/isPrimitiveType}}{{^isPrimitiveType}}{{#isFile}}**{{dataType}}**{{/isFile}}{{^isFile}}{{#generateModelDocs}}[**{{dataType}}**]({{baseType}}.md){{/generateModelDocs}}{{^generateModelDocs}}**{{dataType}}**{{/generateModelDocs}}{{/isFile}}{{/isPrimitiveType}}| {{description}} |{{^required}} [optional]{{/required}}{{#defaultValue}} [default to {{defaultValue}}]{{/defaultValue}}{{#allowableValues}} [enum: {{#values}}{{{.}}}{{^-last}}, {{/-last}}{{/values}}]{{/allowableValues}}\n{{/allParams}}\n\n### Return type\n\n{{#returnType}}{{#returnTypeIsPrimitive}}**{{returnType}}**{{/returnTypeIsPrimitive}}{{^returnTypeIsPrimitive}}{{#generateModelDocs}}[**{{returnType}}**]({{returnBaseType}}.md){{/generateModelDocs}}{{^generateModelDocs}}**{{returnType}}**{{/generateModelDocs}}{{/returnTypeIsPrimitive}}{{/returnType}}{{^returnType}}null (empty response body){{/returnType}}\n\n### Authorization\n\n{{^authMethods}}No authorization required{{/authMethods}}{{#authMethods}}[{{name}}](../README.md#{{name}}){{^-last}}, {{/-last}}{{/authMethods}}\n\n### HTTP request headers\n\n - **Content-Type**: {{#consumes}}{{{mediaType}}}{{^-last}}, {{/-last}}{{/consumes}}{{^consumes}}Not defined{{/consumes}}\n - **Accept**: {{#produces}}{{{mediaType}}}{{^-last}}, {{/-last}}{{/produces}}{{^produces}}Not defined{{/produces}}\n\n{{/operation}}\n{{/operations}}\n\n')),(0,o.kt)("h4",{id:"modelmustache"},"model.mustache"),(0,o.kt)("p",null,"The models file could resemble the following."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-mustache"},"{{#models}}\n{{#model}}\n# {{{packageName}}}.{{modelPackage}}.{{{classname}}}\n## Properties\n\nName | Type | Description | Notes\n------------ | ------------- | ------------- | -------------\n{{#parent}}\n{{#parentVars}}\n**{{name}}** | {{#isPrimitiveType}}**{{dataType}}**{{/isPrimitiveType}}{{^isPrimitiveType}}[**{{dataType}}**]({{complexType}}.md){{/isPrimitiveType}} | {{description}} | {{^required}}[optional] {{/required}}{{#readOnly}}[readonly] {{/readOnly}}{{#defaultValue}}[default to {{{.}}}]{{/defaultValue}}\n{{/parentVars}}\n{{/parent}}\n{{#vars}}**{{name}}** | {{#isPrimitiveType}}**{{dataType}}**{{/isPrimitiveType}}{{^isPrimitiveType}}[**{{dataType}}**]({{complexType}}.md){{/isPrimitiveType}} | {{description}} | {{^required}}[optional] {{/required}}{{#readOnly}}[readonly] {{/readOnly}}{{#defaultValue}}[default to {{{.}}}]{{/defaultValue}}\n{{/vars}}\n\n[[Back to Model list]](../README.md#documentation-for-models) [[Back to API list]](../README.md#documentation-for-api-endpoints) [[Back to README]](../README.md)\n\n{{/model}}\n{{/models}}\n")),(0,o.kt)("h3",{id:"build-it"},"Build it"),(0,o.kt)("p",null,"To compile quickly to test this out, you can run ",(0,o.kt)("inlineCode",{parentName:"p"},"mvn clean package -DskipTests"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"When implementing a more robust generator, you'll want to run all tests as well: ",(0,o.kt)("inlineCode",{parentName:"p"},"mvn clean package"))),(0,o.kt)("h3",{id:"compile-sample"},"Compile Sample"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"new.sh")," script created the generation config file ",(0,o.kt)("inlineCode",{parentName:"p"},"bin/configs/common-mark-documentation-petstore-new.yaml"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'generatorName: common-mark\noutputDir: samples/documentation/petstore/common/mark\ninputSpec: modules/openapi-generator/src/test/resources/3_0/petstore.yaml\ntemplateDir: modules/openapi-generator/src/main/resources/common-mark\nadditionalProperties:\n  hideGenerationTimestamp: "true"\n')),(0,o.kt)("p",null,"This configuration file is passed to the generator's CLI tool during continuous integration builds, and many outputs are compiled and tested as a regression test on every build. Contributors are also asked to run ",(0,o.kt)("inlineCode",{parentName:"p"},"./bin/utils/ensure-up-to-date")," before opening a pull request to regenerate all samples defined under ",(0,o.kt)("inlineCode",{parentName:"p"},"./bin/configs"),". This allows maintainers to quickly verify whether changes impact other generators."),(0,o.kt)("p",null,"Configuration based examples allow us to test the same samples in each tooling option (CLI, Gradle Plugin, Maven Plugin, etc.). "),(0,o.kt)("p",null,"You can compile your generator by running:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"./bin/generate-samples.sh bin/configs/common-mark-documentation-petstore-new.yaml\n")),(0,o.kt)("p",null,"This configuration file can be used to demonstrate the default options for generation. A common option in most of these configs is to define the template directory as the generator's directory under ",(0,o.kt)("inlineCode",{parentName:"p"},"resources"),". This allows template maintainers to modify and test out template changes which don't require recompilation of the entire project. You'd still need to recompile the project in full if you add or modify behaviors to the generator (such as adding a ",(0,o.kt)("inlineCode",{parentName:"p"},"CliOption"),")."),(0,o.kt)("h3",{id:"verify-output"},"Verify output"),(0,o.kt)("p",null,"Creating a new generator will be an iterative task. Once you've generated the sample, you'll want to try it out. For compiled client/server outputs, this would mean running the code or creating a small sample project to consume your artifact just to make sure it works."),(0,o.kt)("p",null,"For markdown, you can open in Visual Studio Code or any other editor with a markdown preview. Not all editors support relative links to other markdown documents. To test the output in this guide, install ",(0,o.kt)("inlineCode",{parentName:"p"},"markserv"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install --global markserv\n")),(0,o.kt)("p",null,"Now, you can serve the output directory directly and test your links:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"markserv samples/documentation/petstore/common/markdown\n")),(0,o.kt)("p",null,"That's it! You've created your first generator!"))}c.isMDXComponent=!0}}]);